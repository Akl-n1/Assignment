@model List<Student>

@{
	ViewData["Title"] = "Index";
}

<a href="/Student/Create" class="btn btn-primary">ADD Student</a>
<br />
<br />

<table class="table table-hover">
	<thead>
		<tr class="table-success">
			<th scope="col">#</th>
			<th scope="col">Name</th>
			<th scope="col">Age</th>
			<th scope="col">Department</th>
			<th scope="col">Courses</th>
			<th scope="col">Action</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var item in Model)
		{
			<tr>
				<td>@item.Id</td>
				<td>@item.Name</td>
				<td>@item.Age</td>
				<td>@item.Department?.Name</td>
				<td>
					@if (item.StudCrs != null && item.StudCrs.Any())
					{
						<ul>
							@foreach (var sc in item.StudCrs)
							{
								<li>@sc.Course?.Name</li>
							}
						</ul>
					}
					else
					{
						<span class="text-muted">No Courses</span>
					}
				</td>
				<td>
					<a href="/Student/Details/@item.Id" class="btn btn-info btn-sm">View</a>
					<a href="/Student/Edit/@item.Id" class="btn btn-warning btn-sm">Edit</a>
					<a href="/Student/Delete/@item.Id" class="btn btn-danger btn-sm">Delete</a>
				</td>
			</tr>
		}
	</tbody>
</table>
